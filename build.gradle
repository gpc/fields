buildscript {
	repositories {
		mavenLocal()
		maven { url "https://repo.grails.org/grails/core" }
	}
	dependencies {
		classpath "org.grails:grails-gradle-plugin:$grailsVersion"
		classpath 'io.github.groovylang.groovydoc:groovydoc-gradle-plugin:1.0.1'
	}
}

version project.projectVersion
group "org.grails.plugins"

apply plugin: "org.grails.grails-plugin"
apply plugin: "org.grails.grails-gsp"
apply plugin: "org.grails.grails-plugin-publish"

ext {
	commonBuild = 'https://raw.githubusercontent.com/grails/grails-common-build/1549696f8d1a6bce3d84db9c4c1bfde61eddf175'

}

sourceCompatibility = 1.8
targetCompatibility = 1.8

repositories {
	mavenLocal()
	mavenCentral()
	maven { url "https://repo.grails.org/grails/core" }
}

dependencies {
	provided 'org.springframework.boot:spring-boot-starter-logging'
	provided "org.springframework.boot:spring-boot-starter-actuator"
	provided "org.springframework.boot:spring-boot-autoconfigure"
	provided "org.springframework.boot:spring-boot-starter-tomcat"

	provided "org.grails:grails-web-boot"
	provided "org.grails:grails-dependencies"
	provided 'javax.servlet:javax.servlet-api:3.1.0'

	compile "org.grails:scaffolding-core:$scaffoldingVersion"

	//testCompile "org.grails:grails-plugin-testing"

	testCompile "org.grails:grails-web-testing-support:2.0.0.BUILD-SNAPSHOT"
	testCompile "org.grails:grails-gorm-testing-support:2.0.0.BUILD-SNAPSHOT"

	console "org.grails:grails-console"

	testCompile "org.codehaus.groovy:groovy-dateutil:2.5.4"
	testCompile 'javassist:javassist:3.12.0.GA'
	testCompile 'cglib:cglib-nodep:3.2.9'
	testCompile('org.jodd:jodd-wot:3.3.4') {
		exclude module: 'slf4j-api'
		exclude module: 'asm'
	}
}

grailsPublish {
	userOrg = "grails"
	githubSlug = project.githubSlug
	license {
		name = 'Apache-2.0'
	}
	title = project.title
	desc = project.projectDesc

	developers = [
			graemerocher: "Graeme Rocher",
			robfletcher: "Rob Fletcher",
			sbglasius: "SÃ¸ren Berg Glasius"
	]
}

apply from: "${commonBuild}/common-docs.gradle"
