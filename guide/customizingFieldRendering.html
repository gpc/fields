<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>3 Customizing Field Rendering 1.3</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/introduction.html"><strong>1</strong><span>Introduction</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/usage.html"><strong>2</strong><span>Usage</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/customizingFieldRendering.html"><strong>3</strong><span>Customizing Field Rendering</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/embeddedProperties.html"><strong>4</strong><span>Embedded Properties</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/scaffolding.html"><strong>5</strong><span>Scaffolding</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/includingTemplatesInPlugins.html"><strong>6</strong><span>Including Templates in Plugins</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        
    </div>
    <p>Customizable form-field rendering based on overrideable GSP template</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../guide/usage.html">&lt;&lt; <strong>2</strong><span>Usage</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                
                    <div class="toc-item next-right"><a href="../guide/embeddedProperties.html"><strong>4</strong><span>Embedded Properties</span> >></a></div>
                


                <div class="project">
                    <h1>3 Customizing Field Rendering - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Rob Fletcher</p>

                    <p><strong>Version:</strong> 1.3</p>

                    
                </div>

                

                
<a name="3. Customizing Field Rendering"><!-- Legacy link --></a>
<h1 id="customizingFieldRendering">3 Customizing Field Rendering</h1>
The plugin resolves the GSP template used for each property according to conventions. You can override the rendering based on the class and property name or the property type. The  <em class="italic">f:field</em>  tag looks for a template called <code>&#95;field.gsp</code>, the  <em class="italic">f:input</em>  tag looks for a template called <code>&#95;input.gsp</code> and the  <em class="italic">f:display</em>  tag looks for a template called <code>&#95;display.gsp</code>. All the tags will look in the following locations in decreasing order of preference:
<ol>
<li><code>grails-app/views/<strong class="bold">controllerName</strong>/<strong class="bold">actionName</strong>/<strong class="bold">propertyName</strong>/</code></li>
<li><code>grails-app/views/<strong class="bold">controllerName</strong>/<strong class="bold">actionName</strong>/<strong class="bold">propertyType</strong>/</code></li>
<li><code>grails-app/views/<strong class="bold">controllerName</strong>/<strong class="bold">actionName</strong>/</code></li>
<li><code>grails-app/views/<strong class="bold">controllerName</strong>/<strong class="bold">propertyName</strong>/</code></li>
<li><code>grails-app/views/<strong class="bold">controllerName</strong>/<strong class="bold">propertyType</strong>/</code></li>
<li><code>grails-app/views/<strong class="bold">controllerName</strong>/</code></li>
<li><code>grails-app/views/&#95;fields/<strong class="bold">class</strong>/<strong class="bold">propertyName</strong>/</code></li>
<li><code>grails-app/views/&#95;fields/<strong class="bold">superclass</strong>/<strong class="bold">propertyName</strong>/</code></li>
<li><code>grails-app/views/&#95;fields/<strong class="bold">associationType</strong>/</code></li>
<li><code>grails-app/views/&#95;fields/<strong class="bold">propertyType</strong>/</code></li>
<li><code>grails-app/views/&#95;fields/<strong class="bold">propertySuperclass</strong>/</code></li>
<li><code>grails-app/views/&#95;fields/default/</code></li>
</ol><p class="paragraph"/>The variables referenced in these paths are:<p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Name</strong></th><th><strong class="bold">Description</strong></th></tr><tr class="table-odd"><td><strong class="bold">controllerName</strong></td><td>The name of the current controller (if any).</td></tr><tr class="table-even"><td><strong class="bold">actionName</strong></td><td>The name of the current action (if any).</td></tr><tr class="table-odd"><td><strong class="bold">class</strong></td><td>The bean class. For simple properties this is the class of the object passed to the  <em class="italic">bean</em>  attribute of the  <em class="italic">f:field</em>  or  <em class="italic">f:input</em>  tag but when the  <em class="italic">property</em>  attribute was nested this is the class at the end of the chain. For example, if the property path was  <em class="italic">employees&#91;0&#93;.address.street</em>  this will be the class of  <em class="italic">address</em> .</td></tr><tr class="table-even"><td><strong class="bold">superclass</strong></td><td>Any superclass or interface of  <em class="italic">class</em>  excluding  <em class="italic">Object</em> ,  <em class="italic">GroovyObject</em> ,  <em class="italic">Serializable</em> ,  <em class="italic">Comparable</em>  and  <em class="italic">Cloneable</em> .</td></tr><tr class="table-odd"><td><strong class="bold">propertyName</strong></td><td>The property name at the end of the chain passed to the  <em class="italic">property</em>  attribute of the  <em class="italic">f:field</em>  or  <em class="italic">f:input</em>  tag. For example, if the property path was  <em class="italic">employees&#91;0&#93;.address.street</em>  then this will be  <em class="italic">street</em> .</td></tr><tr class="table-even"><td><strong class="bold">propertyType</strong></td><td>The type of the property at the end of the chain passed to the  <em class="italic">property</em>  attribute of the  <em class="italic">f:field</em>  or  <em class="italic">f:input</em>  tag. For example, for a  <em class="italic">java.lang.String</em>  property this would be  <em class="italic">string</em> .</td></tr><tr class="table-odd"><td><strong class="bold">propertySuperclass</strong></td><td>Any superclass or interface of  <em class="italic">propertyType</em>  excluding  <em class="italic">Object</em> ,  <em class="italic">GroovyObject</em> ,  <em class="italic">Serializable</em> ,  <em class="italic">Comparable</em>  and  <em class="italic">Cloneable</em> .</td></tr><tr class="table-even"><td><strong class="bold">associationType</strong></td><td>One of  <em class="italic">'oneToOne'</em> ,  <em class="italic">'oneToMany'</em> ,  <em class="italic">'manyToMany'</em>  or  <em class="italic">'manyToOne'</em> . Only relevant if the property is a domain class association.</td></tr></table><p class="paragraph"/>All class names are camel-cased simple forms. For example  <em class="italic">java.lang.String</em>  =  <em class="italic">string</em> ,  <em class="italic">com.project.HomeAddress</em>  =  <em class="italic">homeAddress</em> .<p class="paragraph"/>Templates are resolved in this order so that you can override in the more specific circumstance and fall back to successively more general defaults. For example, you can define a field template for all  <em class="italic">java.lang.String</em>  properties but override a specific property of a particular class to use more specialized rendering.<p class="paragraph"/>Templates in plugins are resolved as well. This means plugins such as  <em class="italic">Joda Time</em>  can provide default rendering for special property types. A template in your application will take precedence over a template in a plugin at the same 'level'. For example if a plugin provides a <code>grails-app/views/&#95;fields/string/&#95;input.gsp</code> the same template in your application will override it but if the plugin provides <code>grails-app/views/&#95;fields/person/name/&#95;input.gsp</code> it would be used in preference to the more general template in your application.<p class="paragraph"/>For most properties the out-of-the-box defaults should provide a good starting point.<p class="paragraph"/><h2>Example</h2><p class="paragraph"/>Imagine an object of class  <em class="italic">Employee</em>  that extends the class  <em class="italic">Person</em>  and has a a String  <em class="italic">name</em>  property.<p class="paragraph"/>You can override the template  <em class="italic">f:field</em>  uses with any of these:
<ol>
<li><code>grails-app/views/<strong class="bold">controllerName</strong>/<strong class="bold">actionName</strong>/name/&#95;field.gsp</code></li>
<li><code>grails-app/views/<strong class="bold">controllerName</strong>/<strong class="bold">actionName</strong>/string/&#95;field.gsp</code></li>
<li><code>grails-app/views/<strong class="bold">controllerName</strong>/<strong class="bold">actionName</strong>/&#95;field.gsp</code></li>
<li><code>grails-app/views/<strong class="bold">controllerName</strong>/name/&#95;field.gsp</code></li>
<li><code>grails-app/views/<strong class="bold">controllerName</strong>/string/&#95;field.gsp</code></li>
<li><code>grails-app/views/<strong class="bold">controllerName</strong>/&#95;field.gsp</code></li>
<li><code>grails-app/views/&#95;fields/employee/name/&#95;field.gsp</code></li>
<li><code>grails-app/views/&#95;fields/person/name/&#95;field.gsp</code></li>
<li><code>grails-app/views/&#95;fields/string/&#95;field.gsp</code></li>
<li><code>grails-app/views/&#95;fields/default/&#95;field.gsp</code></li>
</ol><p class="paragraph"/>override the template  <em class="italic">f:input</em>  uses with any of these:
<ol>
<li><code>grails-app/views/<strong class="bold">controllerName</strong>/<strong class="bold">actionName</strong>/name/&#95;input.gsp</code></li>
<li><code>grails-app/views/<strong class="bold">controllerName</strong>/<strong class="bold">actionName</strong>/string/&#95;input.gsp</code></li>
<li><code>grails-app/views/<strong class="bold">controllerName</strong>/<strong class="bold">actionName</strong>/&#95;input.gsp</code></li>
<li><code>grails-app/views/<strong class="bold">controllerName</strong>/name/&#95;input.gsp</code></li>
<li><code>grails-app/views/<strong class="bold">controllerName</strong>/string/&#95;input.gsp</code></li>
<li><code>grails-app/views/<strong class="bold">controllerName</strong>/&#95;input.gsp</code></li>
<li><code>grails-app/views/&#95;fields/employee/name/&#95;input.gsp</code></li>
<li><code>grails-app/views/&#95;fields/person/name/&#95;input.gsp</code></li>
<li><code>grails-app/views/&#95;fields/string/&#95;input.gsp</code></li>
<li><code>grails-app/views/&#95;fields/default/&#95;input.gsp</code></li>
</ol><p class="paragraph"/>and override the template  <em class="italic">f:display</em>  uses with any of these:
<ol>
<li><code>grails-app/views/<strong class="bold">controllerName</strong>/<strong class="bold">actionName</strong>/name/&#95;display.gsp</code></li>
<li><code>grails-app/views/<strong class="bold">controllerName</strong>/<strong class="bold">actionName</strong>/string/&#95;display.gsp</code></li>
<li><code>grails-app/views/<strong class="bold">controllerName</strong>/<strong class="bold">actionName</strong>/&#95;display.gsp</code></li>
<li><code>grails-app/views/<strong class="bold">controllerName</strong>/name/&#95;display.gsp</code></li>
<li><code>grails-app/views/<strong class="bold">controllerName</strong>/string/&#95;display.gsp</code></li>
<li><code>grails-app/views/<strong class="bold">controllerName</strong>/&#95;display.gsp</code></li>
<li><code>grails-app/views/&#95;fields/employee/name/&#95;display.gsp</code></li>
<li><code>grails-app/views/&#95;fields/person/name/&#95;display.gsp</code></li>
<li><code>grails-app/views/&#95;fields/string/&#95;display.gsp</code></li>
<li><code>grails-app/views/&#95;fields/default/&#95;display.gsp</code></li>
</ol><p class="paragraph"/><h2>Default Behaviour - Using Grails Input Tags</h2><p class="paragraph"/>If no template override is found the plugin will use the standard grails input tags (e.g.  <em class="italic">g:select</em> ,  <em class="italic">g:checkbox</em> ,  <em class="italic">g:field</em> ) for rendering input controls.
Using  <em class="italic">f:field</em>  you can pass extra arguments (e.g.  <em class="italic">optionKey</em> ,  <em class="italic">optionValue</em> ) through to these tags by prefixing them with <code>input-</code>, e.g.<p class="paragraph"/><div class="code"><pre>&#60;f:field bean=<span class="java&#45;quote">"person"</span> property=<span class="java&#45;quote">"gender"</span> input&#45;optionValue=<span class="java&#45;quote">"name"</span>/&#62;</pre></div><p class="paragraph"/><h2>Template parameters</h2><p class="paragraph"/>The  <em class="italic">f:field</em>  and  <em class="italic">f:input</em>  tags will pass the following parameters to your templates or to the body of  <em class="italic">f:field</em>  if you use one:<p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Name</strong></th><th><strong class="bold">Type</strong></th><th><strong class="bold">Description</strong></th></tr><tr class="table-odd"><td><strong class="bold">bean</strong></td><td>Object</td><td>The  <em class="italic">bean</em>  attribute as passed to the  <em class="italic">f:field</em>  or  <em class="italic">f:input</em>  tag.</td></tr><tr class="table-even"><td><strong class="bold">property</strong></td><td>String</td><td>The  <em class="italic">property</em>  attribute as passed to the  <em class="italic">f:field</em>  or  <em class="italic">f:input</em>  tag. This would generally be useful for the  <em class="italic">name</em>  attribute of a form input.</td></tr><tr class="table-odd"><td><strong class="bold">type</strong></td><td>Class</td><td>The property type.</td></tr><tr class="table-even"><td><strong class="bold">label</strong></td><td>String</td><td>The field label text. This is based on the  <em class="italic">label</em>  attribute passed to the  <em class="italic">f:field</em>  or  <em class="italic">f:input</em>  tag. If no  <em class="italic">label</em>  attribute was used the label is resolved by convention - see below.</td></tr><tr class="table-odd"><td><strong class="bold">value</strong></td><td>Object</td><td>the property value. This can also be overridden or defaulted if the  <em class="italic">value</em>  or  <em class="italic">default</em>  attribute was passed to  <em class="italic">f:field</em>  or  <em class="italic">f:input</em> .</td></tr><tr class="table-even"><td><strong class="bold">constraints</strong></td><td>ConstrainedProperty</td><td>The constraints for the property if the bean is a domain or command object.</td></tr><tr class="table-odd"><td><strong class="bold">persistentProperty</strong></td><td>GrailsDomainClassProperty</td><td>The persistent property object if the bean is a domain object.</td></tr><tr class="table-even"><td><strong class="bold">errors</strong></td><td>List&#60;String&#62;</td><td>The error messages for any field errors present on the property. If there are no errors this will be an empty  <em class="italic">List</em> .</td></tr><tr class="table-odd"><td><strong class="bold">required</strong></td><td>boolean</td><td> <em class="italic">true</em>  if the field is required, i.e. has a <code>nullable: false</code> or <code>blank: false</code> constraint.</td></tr><tr class="table-even"><td><strong class="bold">invalid</strong></td><td>boolean</td><td> <em class="italic">true</em>  if the property has any field errors.</td></tr><tr class="table-odd"><td><strong class="bold">prefix</strong></td><td>String</td><td>A string (including the trailing period) that should be appended before the input name such as <code>name="${prefix}propertyName"</code>.  The label is also modified.</td></tr></table><p class="paragraph"/>In addition  <em class="italic">f:field</em>  passes the following parameters:<p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Name</strong></th><th><strong class="bold">Type</strong></th><th><strong class="bold">Description</strong></th></tr><tr class="table-odd"><td><strong class="bold">widget</strong></td><td>String</td><td>The output of  <em class="italic">f:input</em>  for the current bean and property if  <em class="italic">f:field</em>  was used without a tag body, otherwise the output of the tag body.</td></tr></table><p class="paragraph"/><blockquote class="note">
If the  <em class="italic">bean</em>  attribute was not supplied to  <em class="italic">f:field</em>  then  <em class="italic">bean</em> ,  <em class="italic">type</em> ,  <em class="italic">value</em>  and  <em class="italic">persistentProperty</em>  will all be  <em class="italic">null</em> .
</blockquote><p class="paragraph"/><h3>Field labels</h3><p class="paragraph"/>If the  <em class="italic">label</em>  attribute is not supplied to the  <em class="italic">f:field</em>  tag then the label string passed to the field template is resolved by convention. The plugin uses the following order of preference for the label:
<ol>
<li>An i18n message using the key ' <em class="italic">beanClass</em> . <em class="italic">path</em> <code>.label</code>'. For example when using <code>&#60;f:field bean="personInstance" property="address.city"/&#62;</code> the plugin will try the i18n key <code>person.address.city.label</code>. If the property path contains any index it is removed so <code>&#60;f:field bean="authorInstance" property="books0.title"/&#62;</code> would use the key <code>author.books.title.label</code>.</li>
<li>An i18n message using the key ' <em class="italic">objectType</em> . <em class="italic">propertyName</em> <code>.label</code>'. For example when using <code>&#60;f:field bean="personInstance" property="address.city"/&#62;</code> the plugin will try the i18n key <code>address.city.label</code>.</li>
<li>The natural property name. For example when using <code>&#60;f:field bean="personInstance" property="dateOfBirth"/&#62;</code> the plugin will use the label <code>"Date Of Birth"</code>.</li>
</ol><p class="paragraph"/>


                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../guide/usage.html">&lt;&lt; <strong>2</strong><span>Usage</span></a></div>
                
                    <div class="toc-item next-right"><a href="../guide/embeddedProperties.html"><strong>4</strong><span>Embedded Properties</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Tags</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../ref/Tags/all.html">all</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/display.html">display</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/field.html">field</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/input.html">input</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/with.html">with</a>
                            </div>
                            
                            </div>
                    </div>
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
